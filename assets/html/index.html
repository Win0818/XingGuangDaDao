
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<!-- saved from url=(0032)http://localhost:8080/jsandroid/ -->  
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=gb2312">  
  
<meta http-equiv="Expires" content="0">  
<meta http-equiv="Pragma" content="no-cache">  
<meta http-equiv="Cache-Control" content="no-store,no-cache">   
<meta name="Handheldfriendly" content="true">  
<meta name="viewport" content="width=100%; initial-scale=1.0; user-scalable=yes">  
<meta name="robots" content="all">  
<meta name="keywords" contect="doodle, mobile, doodlemobile, game, games">  
<meta name="description" content="Make People's Mobile Life More Connected Through Games.">  
  
<title>jsandroid_test</title>  
  
<script type="text/javascript" language="javascript">   
      
    function showHtmlcallJava(){  
        //var str = window.jsObj.HtmlcallJava();
		var str = 'http://m.qianft.com/Activity/IncreaseInterest/Index.html';
		var title = '加息券活动';
		var description = '通投息增， 只挣朝夕';
		var imageUrl = 'http://wx.qlogo.cn/mmopen/8S0vfFbrRlKHNXfficcaOXo5DIfbCfictHssTA6scqtbUicT5uJg2gzEJ7k7rNh7ZDyJVLmT7hQicibvuo8UYt8fYbdcdiawfGTNqV/';
		window.jsObj.share_To_Wechat_android(str, title, description, imageUrl);
        //alert(str);  
    }  
      
    function showHtmlcallJava2(){  
        var str = window.jsObj.HtmlcallJava2(" blog");  
        alert(str);  
    }  
      
    function showFromHtml(){  
        document.getElementById("id_input").value = "Java call Html";  
    }  
      
    function showFromHtml2( param ){  
        document.getElementById("id_input2").value = "Java call Html : " + param;   
    } 
	//在android代码中调用的方法
	 function showInfoFromJava(msg, uid, openid){
		alert("来自客户端的信息："+msg + " uid: " + uid + " openid: "+ openid);
	  }

	  function showInfoFromJava2(msg1, msg2){
        alert("来自客户端的信息："+msg1 + "   msg2: " + msg2);
    }

	function alertMessage(message) {
        alert(message)
    }

	 /* This function is invoked by the activity */ 
	function wave(jsonText) { 
		document.getElementById("output").innerHTML="userinfo："+jsonText.name; 
		alert("2"); 
	} 

	function takePhoto(){
		var path = "Qianft";
		var picName = "wwwww";
        window.jsObj.takePhoto_android("Qianft", "wwwww");  
        alert("123");  
    }
	//var imageUrl = "";
	//var savePathDir  = "";
	//var picFileName = "";
	//window.jsObj.downloadPicture(imageUrl, savePathDir, picFileName);
	function starVideoPlayActivity_js() {
		var url = "file:///android_asset/html/index_2.html";
		window.jsObj.loginWechat_android();
	}
	function wechat_Auth_Login_js() {
		var url = "file:///android_asset/html/index_2.html";
		var userid = "111222";
		window.jsObj.wechat_Auth_Login_android(userid);
	}

	var text = "{'java':'hello java','C++':'hello C++','PHP':'hello PHP','callback':'failure'}";
	
	function callAndroid_js() {

		// window.jsObj.Js_Invoke_Android_Main_Interface('HtmlcallJava2', text);
		//eval("var obj = " + window.jsObj.HtmlcallJava2(text, "failure"));
		//alert('typeof:'+typeof(obj)); 
		//alert('success:'+obj); 
		alert('obj:');
		//window.jsObj.HtmlcallJava2(text, "failure");
	}

	function failure(json) {
		var obj = eval(json);
		
		alert("fffffff" + json.success  + "  failure: " + json.failure);
		eval("alert('fffffffeeeee')");
	}
	
	var json = "{\"wechat_pay_url\": \"{'sign':'EAF342C58F3A466072ADF7026CB9EF99'," +
									"'timestamp':'1471877046187'," +
									"'package':'Sign = WXPay', "   +
									"'noncestr':'NDk6hgB3PzuZ9nJx', "  +
									"'partnerid':'1375237902'," +
									"'appid':'wx0b01b307e5ebd67e'," +
									"'prepayid':'wx20160822224406debc8a03050569224475'}\"," + 
	           "'callback': 'callback_js'," + 
	           " 'cancel': 'cancel_js'" +
              "}"

	
						

	function callWechatPay_js() {
		 alert("fffffff");
		 window.jsObj.wechat_Pay_android(json);
	
	}
	
	
</script>  
</head>   
  
<body>  
  
hello
  
<br>  
<input type="button" value="分享" onclick="showHtmlcallJava()" />  
<br>  
<br>  
<input type="button" value="授权登录" onclick="wechat_Auth_Login_js()" />   
<br> 
<input type="button" value="微信登录" onclick="showHtmlcallJava2()" />    
<br>   
<input id="id_input" style="width: 90%" type="text" value="null" />  
<br>  
<input type="button" value="AndroidcallHtml" onclick="window.jsObj.JavacallHtml()" />    
<br>     
<input id="id_input2" style="width: 90%" type="text" value="null" />  
<br>  
<input type="button" value="AndroidcallHtml2" onclick="window.jsObj.JavacallHtml2()" />  

<br>
<div id="output" >userinfo: </div><br/><br/> 
<input type="submit" value="request: " onclick="window.jsObj.clickOnAndroid()"/>
<br>
<input type="button" value="打开摄像头" onclick="takePhoto()" />  
<br>  
<br> 
<input type="button" value="下载图片" onclick="starVideoPlayActivity_js()" />  

<input type="button" value="CallAndroid" onclick="callAndroid_js()" />
<br> 
<input type="button" value="WechatPay" onclick="callWechatPay_js()" />
</body>  
</html>  

